(this["webpackJsonpchicken-disease-frontend"]=this["webpackJsonpchicken-disease-frontend"]||[]).push([[0],{12:function(e,s,a){},15:function(e,s,a){"use strict";a.r(s);var t=a(1),c=a.n(t),i=a(3),n=a.n(i),r=(a(12),a(13),a(0));var l=function(){const[e,s]=Object(t.useState)(null),[a,c]=Object(t.useState)(null),[i,n]=Object(t.useState)(!1),[l,d]=Object(t.useState)(null),[o,m]=Object(t.useState)(null),j=[{name:"Healthy",description:"No signs of disease detected",icon:"\u2705"},{name:"Newcastle Disease",description:"Highly contagious viral disease affecting respiratory, nervous and digestive systems",icon:"\ud83e\udda0"},{name:"Avian Influenza",description:"Also known as bird flu, can range from mild to severe",icon:"\ud83e\udd12"},{name:"Infectious Bronchitis",description:"Acute, highly contagious respiratory disease",icon:"\ud83d\ude37"},{name:"Marek's Disease",description:"Viral disease causing tumors and paralysis",icon:"\ud83e\udda0"}];return Object(r.jsx)("div",{className:"container py-5",children:Object(r.jsx)("div",{className:"row justify-content-center",children:Object(r.jsx)("div",{className:"col-lg-8",children:Object(r.jsxs)("div",{className:"card shadow",children:[Object(r.jsx)("div",{className:"card-header bg-primary text-white",children:Object(r.jsx)("h1",{className:"h4 mb-0 text-center",children:"Chicken Health Analyzer"})}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("div",{className:"text-center mb-4",children:Object(r.jsx)("p",{className:"lead",children:"Upload an image of your chicken to detect potential diseases"})}),Object(r.jsx)("div",{className:"mb-4",children:Object(r.jsxs)("div",{className:"d-flex flex-column flex-md-row gap-3 justify-content-center align-items-center",children:[Object(r.jsxs)("div",{className:"custom-file-upload",children:[Object(r.jsx)("input",{type:"file",onChange:e=>{const a=e.target.files[0];a&&(s(a),m(URL.createObjectURL(a)),c(null),d(null))},accept:"image/*",id:"image-upload",className:"d-none"}),Object(r.jsxs)("label",{htmlFor:"image-upload",className:"btn btn-outline-primary btn-lg",children:[Object(r.jsx)("i",{className:"bi bi-cloud-arrow-up me-2"}),e?"Change Image":"Select Image"]})]}),Object(r.jsx)("button",{onClick:async()=>{if(!e)return void d("Please select an image first");const s=new FormData;s.append("file",e),n(!0),d(null);try{const e=await fetch("http://127.0.0.1:5000/predict",{method:"POST",body:s});if(!e.ok)throw new Error(`Server error: ${e.status}`);const a=await e.json();if(!a.prediction||!Array.isArray(a.prediction[0]))throw new Error("Unexpected prediction format");{const e=a.prediction[0],s=j.map(((s,a)=>({...s,probability:e[a],percentage:(100*e[a]).toFixed(2)}))).sort(((e,s)=>s.probability-e.probability));c(s)}}catch(l){console.error("Error uploading image:",l),d(`Error: ${l.message||"Unable to process image"}`),c(null)}n(!1)},disabled:!e||i,className:"btn btn-success btn-lg",children:i?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Analyzing..."]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("i",{className:"bi bi-search me-2"}),"Analyze Image"]})})]})}),l&&Object(r.jsxs)("div",{className:"alert alert-danger mt-3",children:[Object(r.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),l]}),o&&Object(r.jsxs)("div",{className:"text-center mt-4",children:[Object(r.jsx)("div",{className:"mb-3",children:Object(r.jsx)("h3",{className:"h5",children:"Image Preview"})}),Object(r.jsx)("img",{src:o,alt:"Preview",className:"img-fluid rounded shadow",style:{maxHeight:"300px"}})]}),a&&Object(r.jsxs)("div",{className:"mt-5",children:[Object(r.jsxs)("div",{className:"text-center mb-4",children:[Object(r.jsx)("h2",{className:"h4",children:"Analysis Results"}),Object(r.jsx)("p",{className:"text-muted",children:"Based on our AI analysis of your chicken's image"})]}),Object(r.jsx)("div",{className:"alert alert-success",children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("div",{className:"flex-shrink-0",children:Object(r.jsx)("i",{className:"bi bi-check-circle-fill fs-4"})}),Object(r.jsxs)("div",{className:"flex-grow-1 ms-3",children:[Object(r.jsxs)("h5",{className:"alert-heading mb-1",children:["Most Likely: ",a[0].name]}),Object(r.jsxs)("p",{className:"mb-0 small",children:["Confidence: ",a[0].percentage,"% - ",a[0].description]})]})]})}),Object(r.jsxs)("div",{className:"mt-4",children:[Object(r.jsx)("h5",{className:"mb-3",children:"Detailed Probabilities:"}),Object(r.jsx)("div",{className:"list-group",children:a.map(((e,s)=>Object(r.jsxs)("div",{className:"list-group-item "+(0===s?"active":""),"aria-current":0===s,children:[Object(r.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(r.jsxs)("h6",{className:"mb-1",children:[e.icon," ",e.name]}),Object(r.jsxs)("small",{children:[e.percentage,"%"]})]}),Object(r.jsx)("p",{className:"mb-1 small",children:e.description}),Object(r.jsx)("div",{className:"progress mt-2",style:{height:"8px"},children:Object(r.jsx)("div",{className:"progress-bar "+(0===s?"bg-success":"bg-info"),role:"progressbar",style:{width:`${e.percentage}%`},"aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"})})]},s)))})]})]})]}),Object(r.jsx)("div",{className:"card-footer text-muted text-center small",children:Object(r.jsx)("p",{className:"mb-0",children:"Note: Consult a veterinarian for professional diagnosis."})})]})})})})};var d=function(){return Object(r.jsx)(l,{})};var o=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((s=>{let{getCLS:a,getFID:t,getFCP:c,getLCP:i,getTTFB:n}=s;a(e),t(e),c(e),i(e),n(e)}))};n.a.createRoot(document.getElementById("root")).render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(d,{})})),o()}},[[15,1,2]]]);
//# sourceMappingURL=main.eeb27659.chunk.js.map